(this["webpackJsonpled-strip-wb"]=this["webpackJsonpled-strip-wb"]||[]).push([[0],{20:function(e,t,n){},24:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(14),a=n.n(r),s=(n(20),n(21),n(12)),i=n(3),u=n(28),l={},o=Object(c.createContext)(l),b=n(7),j=n.n(b),d=n(9),x=n(15),O=n(29),h=n(27),v=n(30),p=n(1),f=function(){var e=Object(c.useContext)(o),t=e.uuid,n=e.cuuid,r=e.loading,a=e.setLoading,s=e.setDevice,i=e.setConnected,u=e.setRequest,l=e.setServices,b=e.setWritableCharacteristic,f=function(){var e=Object(d.a)(j.a.mark((function e(){var c,r,o,d;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.prev=1,e.next=4,navigator.bluetooth.requestDevice({filters:[{namePrefix:"Triones"}],optionalServices:[t]});case 4:return c=e.sent,e.next=7,c.gatt.connect();case 7:return r=e.sent,e.next=10,r.getPrimaryServices();case 10:return o=e.sent,e.next=13,o[0].getCharacteristic(n);case 13:d=e.sent,l(o),b(d),s(r),u(c),i(!0),a(!1),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(1),console.log(e.t0),a(!1);case 26:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)(O.a,{body:!0,children:r?Object(p.jsxs)("div",{className:"ble-hbox",style:{margin:100},children:[Object(p.jsx)(h.a,{animation:"border",variant:"primary",style:{marginRight:10}}),Object(p.jsx)("span",{children:"scanning..."})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(O.a.Title,{children:"LED Strip"}),Object(p.jsxs)(O.a.Text,{children:["This is an experimental project for ",Object(p.jsx)("i",{children:"Triones"})," based LED using Web Bluetooth API"]}),Object(p.jsxs)(v.a,{onClick:f,variant:"primary",size:"lg",children:[Object(p.jsx)(x.a,{size:"25",style:{marginRight:5}}),"SCAN"]})]})})},m=n(8),g=n(11),C=function(e){return new Uint8Array(e.map((function(e){return Number(e)})))},w=function(){var e=Object(c.useContext)(o),t=(e.uuid,e.services,e.request),n=e.device,r=e.writableCharacteristic,a=e.setConnected,s=(e.setWritableCharacteristic,Object(g.b)("hex","#121212")),u=Object(i.a)(s,2),l=u[0],b=u[1],x=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.writeValueWithoutResponse(C(m.b));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.writeValueWithoutResponse(C(m.a));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=Object(c.useCallback)((function(){t.gatt.disconnect()}),[t]),w=Object(c.useCallback)((function(){a(!1)}),[t]);Object(c.useEffect)((function(){t.addEventListener("gattserverdisconnected",w)}),[t]);var y=function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rgb,m.c[1]=n.r,m.c[2]=n.g,m.c[3]=n.b,e.next=6,r.writeValueWithoutResponse(C(m.c));case 6:b(t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(O.a,{body:!0,children:Object(p.jsxs)("div",{className:"ble-vbox",children:[Object(p.jsxs)(O.a.Subtitle,{style:{marginTop:15,marginBottom:15},children:["Connected Device: ",Object(p.jsx)("i",{children:n.device.name})]}),Object(p.jsx)(v.a,{className:"space-md",onClick:x,variant:"primary",size:"lg",children:"ON"}),Object(p.jsx)(v.a,{className:"space-md",onClick:h,variant:"danger",size:"lg",children:"OFF"}),Object(p.jsx)("div",{className:"ble-hbox ble-middle",children:Object(p.jsx)(g.a,{width:250,color:l,onChange:y,hideHEX:!0})}),Object(p.jsx)(v.a,{className:"space-md",onClick:f,variant:"danger",size:"lg",children:"Disconnect"})]})})},y=(n(24),n(25),{uuid:"0000ffd5-0000-1000-8000-00805f9b34fb",cuuid:"0000ffd9-0000-1000-8000-00805f9b34fb",connected:!1,setConnected:null,loading:!1,setLoading:null,request:null,setRequest:null,device:null,setDevice:null,services:null,setServices:null,writableCharacteristic:null,setWritableCharacteristic:null});var S=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(null),l=Object(i.a)(a,2),b=l[0],j=l[1],d=Object(c.useState)(null),x=Object(i.a)(d,2),O=x[0],h=x[1],v=Object(c.useState)(null),m=Object(i.a)(v,2),g=m[0],C=m[1],S=Object(c.useState)(null),k=Object(i.a)(S,2),N=k[0],D=k[1],R=Object(c.useState)(null),W=Object(i.a)(R,2),q=W[0],E=W[1];return Object(p.jsx)(o.Provider,{value:Object(s.a)(Object(s.a)({},y),{},{connected:O,setConnected:h,loading:b,setLoading:j,writableCharacteristic:n,setWritableCharacteristic:r,services:g,setServices:C,device:N,setDevice:D,request:q,setRequest:E}),children:Object(p.jsx)(u.a,{className:"ble-container",children:Object(p.jsx)("div",{className:"ble-vbox",children:O?Object(p.jsx)(w,{}):Object(p.jsx)(f,{})})})})};a.a.render(Object(p.jsx)(S,{}),document.getElementById("root"))},8:function(e){e.exports=JSON.parse('{"b":["0xCC","0x23","0x33"],"a":["0xCC","0x24","0x33"],"c":["0x56","","","","0x00","0xF0","0xAA"]}')}},[[26,1,2]]]);
//# sourceMappingURL=main.f1141765.chunk.js.map